!function($){$.fn.serializeArrayAll=function(){var rCRLF=/\r?\n/g;return this.map((function(){return this.elements?jQuery.makeArray(this.elements):this})).map((function(i,elem){var val=jQuery(this).val();return null==val?null==val:"checkbox"==this.type&&!1===this.checked?{name:this.name,value:this.checked?this.value:""}:jQuery.isArray(val)?jQuery.map(val,(function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}})):{name:elem.name,value:val.replace(rCRLF,"\r\n")}})).get()},$(document).on("click",".single_add_to_cart_button:not(.disabled)",(function(e){var $thisbutton=$(this),$form=$thisbutton.closest("form.cart"),data=$form.find('input:not([name="product_id"]), select, button, textarea').serializeArrayAll()||0;return $.each(data,(function(i,item){"add-to-cart"==item.name&&(item.name="product_id",item.value=$form.find("input[name=variation_id]").val()||$thisbutton.val())})),e.preventDefault(),$(document.body).trigger("adding_to_cart",[$thisbutton,data]),$.ajax({type:"POST",url:woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:data,beforeSend:function(response){$thisbutton.removeClass("added").addClass("loading")},complete:function(response){$thisbutton.addClass("added").removeClass("loading")},success:function(response){response.error&&response.product_url?window.location=response.product_url:$(document.body).trigger("added_to_cart",[response.fragments,response.cart_hash,$thisbutton])}}),!1}))}(jQuery);